{% extends 'base.html' %}
{% block content %}
<h3 class="text-center text-primary">Agregar Venta</h3>

<form method="POST" class="card p-4 shadow-sm bg-white">
  {% csrf_token %}

  <div class="row g-2">
    <div class="col-md-4">
      <label class="form-label">Cliente</label>
      <select name="id_cliente" class="form-select">
        <option value="">-- Seleccionar Cliente --</option>
        {% for c in clientes %}<option value="{{ c.id }}">{{ c.nombre }} {{ c.apellido }}</option>{% endfor %}
      </select>
    </div>
    <div class="col-md-4">
      <label class="form-label">Empleado</label>
      <select name="id_empleado" class="form-select">
        <option value="">-- Seleccionar Empleado --</option>
        {% for e in empleados %}<option value="{{ e.id }}">{{ e.nombre }} {{ e.apellido }}</option>{% endfor %}
      </select>
    </div>
    <div class="col-md-4">
      <label class="form-label">Sucursal</label>
      <select name="id_sucursal" class="form-select">
        <option value="">-- Seleccionar Sucursal --</option>
        {% for s in sucursales %}<option value="{{ s.id }}">{{ s.nombre }} — {{ s.ciudad }}</option>{% endfor %}
      </select>
    </div>
  </div>

  <div class="row g-2 mt-3">
    <div class="col-md-4">
      <label class="form-label">Método de pago</label>
      <select name="metodo_pago" class="form-select">
        <option value="efectivo">Efectivo</option>
        <option value="tarjeta">Tarjeta</option>
        <option value="transferencia">Transferencia</option>
      </select>
    </div>
    <div class="col-md-2">
      <label class="form-label">Subtotal</label>
      <input name="subtotal" type="number" step="0.01" class="form-control" value="0.00">
    </div>
    <div class="col-md-2">
      <label class="form-label">Impuesto</label>
      <input name="impuesto" type="number" step="0.01" class="form-control" value="0.00">
    </div>
    <div class="col-md-2">
      <label class="form-label">Total</label>
      <input name="total" type="number" step="0.01" class="form-control" value="0.00">
    </div>
    <div class="col-md-2">
      <label class="form-label">Estado</label>
      <select name="estado" class="form-select">
        <option value="pendiente">Pendiente</option>
        <option value="completada">Completada</option>
        <option value="cancelada">Cancelada</option>
      </select>
    </div>
  </div>

  <div class="mt-3 text-end">
    <button class="btn btn-success">Guardar</button>
    <a href="{% url 'ver_ventas' %}" class="btn btn-secondary">Cancelar</a>
  </div>
</form>
{% endblock %}
